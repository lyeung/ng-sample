<!DOCTYPE html>
<html ng-app="myContact">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
		<script src="resources/js/contact.js"></script>
		<title>My Contacts</title>
	</head>

	<body>
		<div ng-controller="PanelController">
			<div id="listing" ng-controller="ListingController">
				<h1>{{panelName}}</h1>
				<table border="1">
					<thead>
						<tr>
							<th></th>
							<th>First Name</th>
							<th>Last Name</th>
						</tr>
					</thead>
					<tbody ng-repeat="c in contacts">
						<tr>
							<td>{{$index + 1}}</td>
							<td>{{c.firstName}}</td>
							<td>{{c.lastName}}</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div id="entry" ng-controller="FormController">
				<h1>{{panelName}}</h1>
				<form name="entryForm" novalidate>
					First Name: <input name="fname" type="text" ng-model="contact.firstName" required></input>
					<br>
					<span ng-show="entryForm.fname.$dirty && entryForm.fname.$error.required">Required</span>
					<br><br>
					Last Name: <input name="lname" type="text" ng-model="contact.lastName" required></input>
					<br>
					<span ng-show="entryForm.lname.$dirty && entryForm.lname.$error.required">Required</span>
					<br><br>
					<button ng-click="save()" ng-disabled="entryForm.fname.$error.required  || entryForm.lname.$error.required"> Save</button>
					<button ng-click="cancel()">Cancel</button>
				</form>
			</div>
		</div>
	</body>
</html>
